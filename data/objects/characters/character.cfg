{
	id: "character",
	is_strict: true,

	editor_info: {
		category: "character",

	},

	properties: {

		unit_info: { type: "null|class unit" },
		unit_info_or_die: "class unit<- unit_info",

		unit_info_updated: "def() ->commands [
			set(mid_x, unit_info_or_die.loc.x*tile_dim + tile_dim/2 + position_offset.x),
			set(mid_y, unit_info_or_die.loc.y*tile_dim + tile_dim/2 + position_offset.y),
		]",

		//how far to offset this character from the center
		//of the tile. Use this to adjust their position
		//in a tile.
		position_offset: "[int,int] :: [0,0]",

		calculate_loc: "[int,int] ::
		[
			(mid_x - tile_dim/2 - position_offset.x)/tile_dim,
			(mid_y - tile_dim/2 - position_offset.y)/tile_dim,
		]
		",

		tile_dim: "int :: 64",
	},
}
